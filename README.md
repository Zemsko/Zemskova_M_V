 # Нормализация данных 
 # Структура базы данных

Данные исходных таблиц transaction и customer исследовала на предмет соответствия условиям первой (1НФ), второй (2НФ), третьей (3НФ) нормальных форм.

Условия для 1НФ:

1. В каждой ячейке таблицы хранится строго атомарное значение. Значение, не имеющее признаков составного и не являющееся массивом или списком в любом виде.
2. В рамках одного столбца таблицы хранятся данные одного типа.
3. В таблице нет дублирующихся строк, нарушающих реляционные принципы хранения данных.
   
В таблицах transaction и customer все атрибуты  атомарные, кроме вызвавшего подозрения поля адреса у customer, так как на примере "12 335-avenu" видно, что номер дома и наименование улицы не хранятся раздельно. Однако, в некоторых случаях бизнесу не требуется приведение хранимых данных в идеальный теоретический вид.
В рамкках одного столбца хранятся данные одного типа. В некоторых строках отсутствует информация об исходном товаре, но есть цена. Обе исходные таблицы находятся в первой нормальной форме, так как удовлетворяют требованиям, предъявляемым к структуре таблиц в теории реляционных баз данных.

Условия для 2НФ:

1. Таблица должна находиться в 1 НФ (условие выполняется, с учетом результатов предыдущего параграфа)
2. Таблица должна иметь ключ, - столбец или набор столбцов, по которым гарантированно можно отличить строки друг от друга. По ключу мы можем обратиться к конкретной строке данных в таблице.
3. В случае потенциального составного ключа, все неключевые столбцы должны зависеть от полного ключа и не зависеть от его части.




Приведем таблицу ко второй нормальной форме (2 НФ)
 

Отношения будут соответствовать (2НФ), если сама БД находится в (1НФ), а каждый столбец, 
который не является ключом, зависит от первичного ключа.


1) Таблица transaction с ключом (transaction_id) имеет поля :

	+ product_stock_id
	+ customer_id
	+ transaction_date
	+ online_oder
	+ order_status

Все поля таблицы transaction зависят от одного ключа (transaction_id)
Приведена таблица transaction ко 2НФ.
    
Отношение находится в 3НФ, когда находится во 2НФ и каждый не ключевой атрибут 
нетранзитивно зависит от первичного ключа.Правило требует выносить все не ключевые поля,
содержимое которых может относиться к нескольким записям таблицы в отдельные таблицы.
	
	Поле products_stock_id в таблице transactions ссылается на еще одну таблицу products_stock.
	
	Таким образом мы получили нормализацию из (2НФ) к третьей нормальной форме (3НФ).

	transaction -> products_stock_id -> products_stock 
	
2) Поле order_statuses (ключ status_name) ссылается на таблицу - справочник order_statuses 
	
Создала отдельную таблицу order_statuses. Привела к (3НФ)
    
	transaction -> order_statuses - > status_name	


3) Таблица products_stock с ключом (stock_id) приведена ко второй нормальной форме (2НФ) products_stock по ключу stock_id.
Все поля таблицы products_stock зависят от одного ключа (stock_id):
	
 	+ product_record_id
	+ list_price,
	+ standart_cost
				
4) Таблица customers (ключ customer_id ). Приведенаа ко второй нормальной форме (2НФ). Все поля таблицы customers зависят от одного ключа (customer_id):

	+ first_name
	+ last_name
	+ gender 
	+ DOB
	+ job_title
	+ job_industry_category
	+ wealth_segment
	+ deceased_indicator
	+ owns_car
	+ address
	+ postcode
	+ state
	+ country
	+ property_valuation
	
5)Таблица products (ключ record_id),содержит таблицы-справочники:
	  
	   6)brands
	   7)product_lines
	   8)product_classes
	   9)product_size
	   
Таким образом мы получили нормализацию по третьей нормальной форме (3НФ).

	   products -> brands          -> brand_name
	   products -> product_lines   -> product_line
	   products -> product_classes -> product_class
	   products -> product_sizes   -> product_size
# Структура базы данных 
![Zemskova_diagram](https://github.com/Zemsko/Zemskova_M_V/assets/147048091/42ab7914-10ea-4747-ae24-789bbbc539fd)
